@model LittleBooks.Common.Models.CatalogueWievModel

@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

@{
    ViewBag.Title = "Catalogue";
}
@{ 
    var tales = Model.Tales;
}


<!DOCTYPE html>

<html>

<body>


    <header class="mela-section">
        <img id="menu-shape-1" src="~/Style/images/menu-shape-1.png" alt="menu-shape-1">
        <img id="menu-shape-2" src="~/Style/images/menu-shape-2.png" alt="menu-shape-2">
        <img id="menu-shape-3" src="~/Style/images/menu-shape-3.png" alt="menu-shape-3">
        <img id="tsriala-1" src="~/Style/images/tsriala-1.gif" alt="წრიალა-1">
        <!-- <img id="tsriala-1" data-gifffer="images/tsriala-1.gif" /> -->

        <div class="flex menu-wrapper flex-align-center">
            <a href="~/Home/Index"><img id="logo" src="~/Style/images/logo.svg" alt="წიგნის სახელოსნო"></a>
            <nav class="sandro-font-regular">
                <ul class="flex navigacia">
                    <li><a href="~/About/Index">პროექტის შესახებ</a></li>
                    <li><a href="~/Contact/Index">კონტაქტი</a></li>
                    <li><a href="~/Home/Catalogue">წიგნები</a></li>
                    <li class="relative"><img id="search-icon" class="vertical-middle photo" src="~/Style/images/search-icon.svg" alt="search-icon"> <input type="text" id="search-input" placeholder="საპოვნელა" class="search"></li>
                </ul>
            </nav>
        </div>
    </header>


    <main>
        <section class="books-wrapper mela-section flex flex-column relative">

            <section class="filter">
                <div>
                    <img src="~/Style/images/Layer-10.png" alt="bg" class="filter-bg">
                    <h3 class="center-position filter-h3">ფილტრი</h3>
                    <div class="arrow-down center-position"><img src="~/Style/images/next.png" alt="down-arrow"></div>
                    <h3 class="author center-position "><a class="text-hide" href="~/Home/Catalogue?byTitle=false&byAuthor=true">ავტორი</a></h3>
                    <h3 class="genre center-position "><a class="text-hide" href="~/Home/Catalogue?byTitle=true&byAuthor=false">სათაური</a></h3>
                </div>
                <div>
                    <img src="~/Style/images/shua.png" alt="shua" class="shua hide">
                    <img src="~/Style/images/qveda.png" alt="qveda" class="qveda hide">
                </div>
            </section>



            @{
                if (tales.Count() > 0)
                {
                    <div class="book flex flex-align-center book-1">
                        <a href="@tales[0].TaleLink" target="_blank" class="book-img-url">
                            <img src="@Url.Content(tales[0].ImageUrl)" alt="@tales[0].Title" class="book-img">
                        </a>
                        <div class="book-text sandro-font-regular">
                            <h3 class="book-author sandro-font-bold">
                                <a href="@Url.Action("AuthorPage", new { id = tales[0].Author.Id })">
                                    @tales[0].Author.FirstName

                                    @tales[0].Author.LastName
                                </a>
                            </h3>
                            <h4 class="book-title"><a href="@tales[0].TaleLink" target="_blank">“@tales[0].Title”</a></h4>
                            <p class="book-date">@tales[0].CreateDate</p>
                        </div>
                        <img src="~/Style/images/book-1-back.png" alt="book-background" class="img-background">
                    </div>
                }

                if (tales.Count() > 1)
                {
                    <div class="book flex flex-align-center book-2">
                        <a href="@tales[1].TaleLink" target="_blank" class="book-img-url">
                            <img src="@Url.Content(tales[1].ImageUrl)" alt="@tales[1].Title" class="book-img">
                        </a>
                        <div class="book-text sandro-font-regular">
                            <h3 class="book-author sandro-font-bold">
                                <a href="@Url.Action("AuthorPage", new { id = tales[1].Author.Id })">
                                    @tales[1].Author.FirstName

                                    @tales[1].Author.LastName
                                </a>
                            </h3>
                            <h4 class="book-title"><a href="@tales[1].TaleLink" target="_blank">“@tales[1].Title”</a></h4>
                            <p class="book-date">@tales[1].CreateDate</p>
                        </div>
                        <img src="~/Style/images/book-2-back.png" alt="book-background" class="img-background">
                    </div>
                }

                if (tales.Count() > 2)
                {
                    <div class="book flex flex-align-center book-3">
                        <a href="@tales[2].TaleLink" target="_blank" class="book-img-url">
                            <img src="@Url.Content(tales[2].ImageUrl)" alt="@tales[2].Title" class="book-img">
                        </a>
                        <div class="book-text sandro-font-regular">
                            <h3 class="book-author sandro-font-bold">
                                <a href="@Url.Action("AuthorPage", new { id = tales[2].Author.Id })">
                                    @tales[2].Author.FirstName

                                    @tales[2].Author.LastName
                                </a>
                            </h3>
                            <h4 class="book-title"><a href="@tales[2].TaleLink" target="_blank">“@tales[2].Title”</a></h4>
                            <p class="book-date">@tales[2].CreateDate</p>
                        </div>
                        <img src="~/Style/images/book-3-back.png" alt="book-background" class="img-background">
                    </div>
                }


            }
            @{ 
                
                string t = Model.byTitle.ToString();
                string a = Model.byAuthor.ToString();
            }


            <section class="other-page">
                <img src="~/Style/images/didi.png" alt="#" class="sw didi">
                <img src="~/Style/images/patara.png" alt="#" class="sw patara">
                <p class="num-switch">
                    @for (int i = 1; i <= Model.PageQuantity; i++)
                    {
                        <a href="~/Home/Catalogue?pageNum=@i&byTitle=@t&byAuthor=@a">@i</a>
                    }


                </p>

            </section>
        </section>
    </main>

    <footer class="sandro-font-regular flex mela-section flex-align-center">
        <img src="~/Style/images/Layer-35.png" alt="tsriala" class="tsriala-in-footer">
        <img src="~/Style/images/footer-shape-1.png" alt="footer-shape" class="footer-shape-1">
        <img src="~/Style/images/footer-shape-2.png" alt="footer-shape" class="footer-shape-2">
        <div class="">
            <img src="~/Style/images/geolab-logo.png" alt="ჯეოლაბი" id="geolab-logo">
            <img src="~/Style/images/multi-biblioteka-logo.png" alt="თბილისის მულტიფუნქციური ბიბლიოთეკების გაერთიანება" id="biblio-logo">
        </div>
        <p>© პროდუქტი შექმნილია კომპანია "ჯეოლაბის" მიერ</p>
        <p>გვეკონტაქტე: 032 566 77 898</p>
    </footer>




    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="~/Style/js/script.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="~/Style/js/gifffer.min.js"></script>


</body>



</html>



